/* --- 全域與晨曦主題色彩變數 --- */

/* :root 選擇器用於在 HTML 文件的根元素上定義全域變數。
   這樣我們就可以在整個專案中重複使用這些顏色和字體設定，方便統一管理和修改主題。*/
:root {
    --bg-color: #FFF9F0;         /* 背景色 - 柔和米白，用於整個應用的背景 */
    --primary-accent: #FF8C42;   /* 主題色 - 溫暖晨曦橙，用於按鈕、選中狀態等醒目提示 */
    --secondary-accent: #FFC371; /* 輔助色 - 明亮陽光金，用於滑鼠懸停等互動效果 */
    --text-color: #5D4037;       /* 文字顏色 - 溫潤深棕，用於大部分的文字內容，比純黑更柔和 */
    --subtle-border: #E0E0E0;    /* 邊框/分隔線 - 淡雅灰，用於卡片邊框、分隔線等 */
    --card-bg: #FFFFFF;          /* 卡片背景 - 純白，用於卡片、Tab Bar 等需要突出的區塊 */
    --font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif; /* 全站使用的字體系列 */
}


/* --- Body 與基礎元素全域樣式 --- */

/* `body` 標籤是整個網頁內容的容器，這裡設定的是最基礎的全頁預設樣式。 */
body {
    background-color: var(--bg-color); /* 將背景色設定為我們定義的米白變數 */
    color: var(--text-color);          /* 設定全站的預設文字顏色為深棕色 */
    font-family: var(--font-family);   /* 設定全站的預設字體 */
    margin: 0;                         /* 移除瀏覽器預設的 body 邊距 */
    padding: 0;                        /* 移除瀏覽器預設的 body 內距 */
    padding-bottom: 70px;              /* 在頁面底部增加 70px 的內距，避免內容被固定的 Tab Bar 遮擋 */
}

/* 統一設定 h1 和 h3 標題的顏色 */
h1, h3 {
    color: var(--text-color);
}


/* --- 頁面切換與 Tab Bar 樣式 --- */

/* `.page` 是每個分頁的容器的通用 class */
.page {
    display: none;   /* 預設將所有頁面隱藏 */
    padding: 15px;   /* 為頁面內容提供一些內邊距 */
}
/* 只有被 JavaScript 加上 `active` class 的頁面才會顯示 */
.page.active {
    display: block; /* 將 display 改為 block，使其顯示出來 */
}


/* `#tab-bar` 是底部固定的導覽列 */
#tab-bar {
    position: fixed;            /* 將位置固定，使其不隨頁面滾動 */
    bottom: 0;                  /* 固定在畫面底部 */
    left: 0;                    /* 從左側 0 的位置開始 */
    width: 100%;                /* 寬度撐滿整個螢幕 */
    height: 60px;               /* 設定導覽列高度 */
    background-color: var(--card-bg); /* 背景設為白色 */
    border-top: 1px solid var(--subtle-border); /* 在頂部加上一條細細的分隔線 */
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05); /* 在頂部加上微弱的陰影，增加立體感 */
    display: flex;              /* 使用 Flexbox 排版 */
    justify-content: space-around; /* 讓內部的按鈕均勻分佈 */
    align-items: center;        /* 讓內部的按鈕垂直置中 */
}


/* `.tab-button` 是導覽列中的每一個按鈕 */
.tab-button {
    background: none;  /* 移除預設背景 */
    border: none;      /* 移除預設邊框 */
    color: #999;       /* 預設文字顏色為灰色 */
    font-size: 0.8rem; /* 設定稍小的字體 */
    cursor: pointer;   /* 滑鼠移上去時顯示為手指形狀，提示可點擊 */
    padding: 10px;     /* 設定內距，讓點擊範圍變大 */
    border-radius: 8px;/* 圓角 */
    transition: color 0.2s, background-color 0.2s; /* 讓顏色變化有 0.2 秒的過渡動畫 */
}

/* `.tab-button.active` 是被選中的按鈕的樣式 */
.tab-button.active {
    color: var(--primary-accent); /* 將文字顏色改為主題橙色 */
    font-weight: bold;            /* 字體加粗 */
}


/* --- 篩選器樣式 (緊湊版) --- */

/* `#filter-controls` 是整個篩選器區塊的容器 */
#filter-controls {
    padding: 5px;                 /* 設定內距 */
    background-color: transparent; /* 背景透明，使其融入頁面背景 */
    margin: 0;                     /* 移除外距 */
    margin-bottom: 20px;           /* 與下方的卡片列表保持 20px 的距離 */
    display: flex;                 /* 使用 Flexbox 排版 */
    flex-direction: column;        /* 讓子元素（搜尋框、標籤區）垂直排列 */
    gap: 10px;                     /* 設定子元素之間的間距 */
}


/* `#keyword-search` 是關鍵字搜尋輸入框 */
#keyword-search {
    width: 100%;                /* 寬度撐滿容器 */
    padding: 12px;              /* 舒適的內距 */
    font-size: 1rem;            /* 標準字體大小 */
    border-radius: 8px;         /* 圓角 */
    border: 1px solid var(--subtle-border); /* 淡雅的邊框 */
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05); /* 微弱的陰影 */
}


/* `#tag-filter-container` 是標籤篩選區的容器 */
#tag-filter-container {
    display: flex;         /* 使用 Flexbox */
    flex-wrap: wrap;       /* 允許內容換行 */
    align-items: center;   /* 垂直置中對齊 */
    gap: 10px;             /* 項目間距 */
}


/* `.filter-group` 是標籤按鈕的直接容器 */
.filter-group {
    display: flex;      /* 使用 Flexbox */
    flex-wrap: wrap;    /* 允許按鈕換行，以應對多個標籤 */
    gap: 8px;           /* 按鈕之間的間距 */
}


/* `.filter-group button` 是單個標籤按鈕的樣式 */
.filter-group button {
    padding: 5px 12px;        /* 較小的內距，讓按鈕變緊湊 */
    font-size: 0.8rem;        /* 較小的字體 */
    border: 1px solid var(--subtle-border); /* 邊框 */
    background-color: var(--card-bg); /* 背景白色 */
    border-radius: 16px;      /* 膠囊狀的圓角 */
    cursor: pointer;          /* 可點擊的手指游標 */
    transition: all 0.2s;     /* 所有變化的過渡動畫 */
}


/* `.filter-group button:hover` 滑鼠懸停在按鈕上時的樣式 */
.filter-group button:hover {
    border-color: var(--secondary-accent); /* 邊框變為陽光金色 */
}


/* `.filter-group button.active` 標籤按鈕被選中時的樣式 */
.filter-group button.active {
    background-color: var(--primary-accent); /* 背景變為主題橙色 */
    color: white;                            /* 文字變為白色 */
    border-color: var(--primary-accent);     /* 邊框也變為主題橙色 */
}


/* `#clear-filters` 清除篩選按鈕的樣式 */
#clear-filters {
    padding: 8px 12px;
    font-size: 0.8rem;
    background-color: #888; /* 深灰色背景 */
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    align-self: flex-start; /* 讓按鈕寬度不撐滿，只根據內容自適應 */
}


/* --- 桌遊圖鑑卡片樣式 (直式卡片，兩欄並排) --- */

/* `#game-list-container` 是所有遊戲卡片的容器 */
#game-list-container {
    display: grid;                          /* 使用 CSS Grid 進行網格排版 */
    grid-template-columns: repeat(2, 1fr);  /* 將容器切分為兩欄，每欄寬度均分 (1fr) */
    gap: 15px;                              /* 設定網格項目（卡片）之間的間距 */
    padding: 0 5px;                        /* 設定左右內距 */
}


/* `.game-card` 是單張遊戲卡片的樣式 */
.game-card {
    background-color: var(--card-bg);
    border-radius: 12px;                    /* 圓角 */
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* 更柔和的陰影 */
    overflow: hidden;                       /* 隱藏超出邊界的內容，確保圖片圓角能正常顯示 */
    display: flex;                          /* 使用 Flexbox */
    flex-direction: column;                 /* 讓卡片內部元素（圖片、資訊）垂直排列 */
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; /* 設定互動動畫 */
}


/* `.game-card:hover` 滑鼠懸停在卡片上時的樣式 */
.game-card:hover {
    transform: translateY(-5px);           /* 讓卡片向上移動 5px */
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12); /* 顯示更深的陰影，營造浮起的效果 */
}


/* `.game-image` 卡片頂部的圖片 */
.game-image {
    width: 100%;                /* 圖片寬度撐滿卡片 */
    height: 120px;              /* 固定一個圖片高度，讓所有卡片視覺上更整齊 */
    object-fit: cover;          /* 讓圖片填滿整個容器，多餘部分會被裁剪，但圖片本身不會變形 */
}


/* `.game-info` 卡片下半部，包含所有文字資訊的容器 */
.game-info {
    padding: 5px;               /* 內距 */
    display: flex;              /* 使用 Flexbox */
    flex-direction: column;     /* 內部元素垂直排列 */
    flex-grow: 1;               /* 讓這個區塊自動伸展以填滿卡片剩餘的垂直空間，這是確保所有卡片等高的關鍵 */
}


/* `.game-title` 遊戲標題 */
.game-title {
    margin-top: 0;
    margin-bottom: 2px;
    font-size: 1.1rem;
}


/* `.game-description` 遊戲描述 */
.game-description {
    font-size: 0.85rem;
    color: #666;
    line-height: 1.5;
    flex-grow: 1;      /* 讓描述區塊佔據盡可能多的空間，這會將下方的標籤和細節推到卡片底部 */
    margin-bottom: 3px;
}


/* `.game-tags` 卡片上顯示標籤的容器 */
.game-tags {
    margin-top: auto;   /* 自動外距，將此區塊推到其 Flex 容器的底部 */
    padding-top: 10px;
    border-top: 1px solid #f0f0f0; /* 上方加上一條淺色分隔線 */
}


/* `.game-tag` 單個標籤的樣式 */
.game-tag {
    display: inline-block;
    background-color: #e9ecef;
    color: #495057;
    padding: 3px 8px;
    border-radius: 12px;   /* 膠囊狀圓角 */
    font-size: 0.7rem;
    margin-right: 5px;
    margin-bottom: 5px;
}


/* `.game-details` 遊戲細節（人數、難度）的容器 */
.game-details {
    display: flex;
    justify-content: space-between; /* 讓內部項目（人數、難度）左右對齊 */
    font-size: 0.8rem;
    color: #777;
    padding-top: 10px;
}


/* --- 個人資料頁面微調 (使其符合主題) --- */

/* `#profile-info` 個人資料區塊 */
#profile-info {
    color: var(--text-color); /* 套用主題文字顏色 */
}
/* `#qrcode-container` QR Code 容器 */
#qrcode-container {
    border: 1px solid var(--subtle-border); /* 套用主題邊框顏色 */
}


/* --- 場地預約頁面樣式 (全新專業版) --- */
/* --- 場地預約頁面樣式 (多步驟流程版) --- */
#page-booking {
    padding: 15px;
    height: calc(100vh - 90px); /* 減去 header 和 footer 的高度 */
    display: flex;
    flex-direction: column;
}

#booking-wizard-container {
    height: 100%;
    display: flex;
    flex-direction: column;
}

.booking-step {
    display: none; /* 預設所有步驟都隱藏 */
    flex-direction: column;
    height: 100%;
    justify-content: space-between; /* 讓內容上下分布，按鈕推到底部 */
}
.booking-step.active {
    display: flex; /* 只有 active 的步驟會顯示 */
}

.booking-header { text-align: center; margin-bottom: 20px; }
.booking-header h1 { margin: 0; font-size: 1.8rem; }
.booking-header .booking-subtitle { margin: 5px 0 0; font-size: 1rem; color: #888; }

.preference-options {
    display: flex;
    flex-direction: column;
    gap: 20px;
    margin-top: 20px;
    flex-grow: 1;
}
.preference-btn {
    padding: 20px;
    border: 2px solid var(--subtle-border);
    border-radius: 12px;
    background-color: var(--card-bg);
    text-align: left;
    cursor: pointer;
    transition: all 0.2s;
}
.preference-btn:hover {
    border-color: var(--primary-accent);
    transform: translateY(-3px);
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}
.preference-btn h3 { margin: 0 0 8px 0; font-size: 1.2rem; color: var(--primary-accent); }
.preference-btn p { margin: 0; color: #666; }

.booking-notice { text-align: center; font-size: 0.8rem; color: #777; margin-top: 20px; padding-bottom: 20px;}

.back-button { background: none; border: none; color: var(--primary-accent); font-size: 1rem; font-weight: bold; cursor: pointer; align-self: flex-start; margin-bottom: 15px; padding: 0; }

.booking-step h2 { border-bottom: 2px solid var(--primary-accent); padding-bottom: 8px; margin-bottom: 20px; font-size: 1.4rem; text-align: center;}

#booking-datepicker { width: 100%; padding: 12px; font-size: 1rem; text-align: center; border-radius: 8px; border: 1px solid var(--subtle-border); cursor: pointer; background-color: var(--card-bg); }
.discount-highlight { text-align: center; background-color: #fff3e0; color: #e65100; padding: 12px; border-radius: 8px; margin-top: 20px; font-weight: bold; }

#booking-slots-container { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; }
.slot-button { padding: 15px; font-size: 1rem; border: 1px solid var(--subtle-border); background-color: #fff; border-radius: 8px; cursor: pointer; text-align: center; transition: all 0.2s; }
.slot-button.booked { background-color: #e9ecef; color: #adb5bd; cursor: not-allowed; text-decoration: line-through; }
.slot-button.available:hover { border-color: var(--primary-accent); }
.slot-button.selected { background-color: var(--primary-accent); color: white; border-color: var(--primary-accent); font-weight: bold; }

.input-group { margin-bottom: 20px; }
.input-group label { display: block; margin-bottom: 8px; font-weight: bold; color: #555; }
.input-group input, .input-group select { width: 100%; padding: 12px; border-radius: 6px; border: 1px solid #ccc; font-size: 1rem; box-sizing: border-box; }

.summary-card { background: #f8f9fa; border: 1px solid var(--subtle-border); border-radius: 8px; padding: 20px; }
.summary-card p { margin: 0 0 12px 0; display: flex; justify-content: space-between; }
.summary-card p:last-child { margin-bottom: 0; }
.summary-card span:first-child { font-weight: bold; color: #555; }
.summary-card .final-price { font-size: 1.3rem; font-weight: bold; color: var(--primary-accent); }
.summary-card .discount-text { font-size: 0.9rem; color: #28a745; justify-content: flex-end; }

.cta-button { width: 100%; padding: 15px; font-size: 1.1rem; font-weight: bold; color: white; background: linear-gradient(45deg, var(--secondary-accent), var(--primary-accent)); border: none; border-radius: 10px; cursor: pointer; margin-top: auto; box-shadow: 0 4px 10px rgba(255, 140, 66, 0.4); }

#booking-result-content { text-align: center; margin: auto; }
#booking-result-content h2 { font-size: 1.5rem; }
.success { color: #28a745; }
/* --- 場地預約頁面樣式結束 --- */